电子行业最常用的 3 种串行通讯协议：UART、SPI 和 I2C

### I2C 总线介绍

I2C(Inter －Integrated Circuit)是一种通用的总线协议
它是由 Philips(飞利浦)公司，现 NXP(恩智浦)半导体开发的一种简单的双向两线制总线协议标准
两根通信线：SCL（Serial Clock）、SDA（Serial Data）
同步、半双工，带数据应答

### I2C 电路规范

可以支持一主多从或者多主连接
所有 I2C 设备的 SCL 连在一起，SDA 连在一起

### I2C 时序结构

I2C 是串行传输总线，按照格式进行一位一位传输
I2C 协议的最基础的 4 种信号：起始、停止、应答、非应答信号
起始条件：SCL 线是高电平时，SDA 线从高电平向低电平切换
停止条件：SCL 线是高电平时，SDA 线从低电平向高电平切换

发送一个字节：SCL 低电平期间，主机将数据位依次放到 SDA 线上（高位在前），然后
拉高 SCL，从机将在 SCL 高电平期间读取数据位，所以 SCL 高电平期间 SDA 不允许有数据
变化，依次循环上述过程 8 次，即可发送一个字节

发送应答：在接收完一个字节之后，主机在下一个时钟发送一位数据，数据 0 表示应答，
数据 1 表示非应答

接收应答：在发送完一个字节之后，主机在下一个时钟接收一位数据，判断从机是否应答，
数据 0 表示应答，数据 1 表示非应答（主机在接收之前，需要释放 SDA）

产生非应答信号（主机、从机均可产生）的情况主要有以下几种：
• I2C 总线上没有主机所指定地址的从机设备
• 从机正在执行一些操作，处于忙状态，还没有准备好与主机通讯
• 主机发送的一些控制命令，从机不支持
• 主机接收从机数据时，主机产生非应答信号，通知从机数据传输结束，不要再发数据
了
